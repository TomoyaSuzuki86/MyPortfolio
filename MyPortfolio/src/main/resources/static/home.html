<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
</head>
<body>
    <h1>Welcome to TiQue</h1>
    <button onclick="openAchievementModal()">実績入力</button>
    <button onclick="openTaskEditModal()">タスク編集</button>

    <!-- 実績入力モーダル -->
    <div id="achievementModal" style="display:none;">
        <h2>実績入力</h2>
        <form id="achievementForm">
            <label for="taskId">Task ID:</label>
            <input type="number" id="taskId" name="taskId" required>
            <br>
            <label for="description">Description:</label>
            <input type="text" id="description" name="description" required>
            <br>
            <label for="actualTime">Actual Time:</label>
            <input type="number" id="actualTime" name="actualTime" required>
            <br>
            <button type="submit">Submit</button>
        </form>
    </div>

    <!-- タスク編集モーダル -->
    <div id="taskEditModal" style="display:none;">
        <h2>タスク編集</h2>
        <!-- タスク編集フォームを追加 -->
    </div>

    <script>
        function openAchievementModal() {
            document.getElementById("achievementModal").style.display = "block";
        }

        function openTaskEditModal() {
            document.getElementById("taskEditModal").style.display = "block";
        }

        document.getElementById("achievementForm").addEventListener("submit", function(event) {
            event.preventDefault();
            const taskId = document.getElementById("taskId").value;
            const description = document.getElementById("description").value;
            const actualTime = document.getElementById("actualTime").value;

            fetch("/achievementss", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({ taskId: taskId, description: description, actualTime: actualTime })
            })
            .then(response => {
                if (response.ok) {
                    window.location.href = "/home.html"; // 成功したらホーム画面に戻る
                } else {
                    alert("実績登録エラー");
                }
            });
        });
    </script>
</body>
</html>
